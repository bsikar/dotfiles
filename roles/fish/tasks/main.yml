- name: remove fish config directory
  file:
    path: ~/.config/fish
    state: absent
  tags:
    - fish

- name: create fish config directory
  file:
    path: ~/.config/fish
    state: directory
  tags:
    - fish

- name: symlink dotfiles
  file:
    src: "{{ ansible_env.PWD }}/roles/fish/files/{{ item }}"
    path: ~/.config/fish/{{ item }}
    state: link
    follow: false
    force: yes
  loop:
    - config.fish
    - functions
    - fish_variables
    - conf.d
  tags:
    - fish

